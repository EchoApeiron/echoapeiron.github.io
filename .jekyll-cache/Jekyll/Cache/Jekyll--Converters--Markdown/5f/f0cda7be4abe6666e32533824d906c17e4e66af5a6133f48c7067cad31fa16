I"y<p>As you may recall I indicated an issue in my article Jellyfin, Networking and SSL. This issue was grave to the extent that it didn’t allow the web app to connect through the reverse proxy. The below link will allow you to re-read if needed, but ultimately it was an issue to how the SSL certificate was implemented.</p>

<p><a href="/Jellyfin-SSL">Jellyfin, Securing with SSL Certificates</a></p>

<p>Ultimately it ended up being a misconfiguration from my part and how my registrar provided the certificates. How did I find out that my SSL certificate was implemented improperly to begin with? Well I was informed that actually we can use the <code class="language-plaintext highlighter-rouge">s_client</code> feature of <code class="language-plaintext highlighter-rouge">openssl</code> to validate if a SSL connection is valid or not. So my goal here is to quickly explain how to use <code class="language-plaintext highlighter-rouge">openssl</code> in order to validate the certificate. As well as how to look up your registrar’s direction on installing their SSL certificates.</p>

<h3 id="validate-the-ssl-cert-is-serving-correctly">Validate the SSL Cert is Serving Correctly</h3>

<p>Since we are hosting on a public DNS and in this instance we assume it is <code class="language-plaintext highlighter-rouge">media.domain.com</code>. We need a system where <code class="language-plaintext highlighter-rouge">openssl</code> is available. Linux is a good call but a Mac would actually be awesome here as well. If you are on Windows there are some resources you can refer to. But I can’t guarantee the validity of these. So I recommend a *nix based system where applicable.</p>

<p>Once you have a platform that is valid we need to issue the following command to our domain (and port if you are using a different port) to validate the SSL certificate.</p>

<p><code class="language-plaintext highlighter-rouge">openssl s_client -connect media.domain.com:443</code></p>

<p>Ultimately we are looking for the below:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre>Start Time: 1604962023
Timeout   : 7200 (sec)
Verify return code: 0 (ok)
Extended master secret: no
Max Early Data: 0
</pre></td></tr></tbody></table></code></pre></div></div>

<p>If we see that Verify return code is 0 then we know that the certificate is applied successfully. However in my instance I didn’t get a good return code. So what might have gone wrong? Well for me I used Namecheap to acquire my certificate. So I did a simple Google search for <em>Namecheap Install SSL Certificate</em>. It took me to the exact article I needed.</p>

<p>In this instance I need to concantante my server’s certificate PEM file with the Certificate Authority Chain provided. Which can be reviewed here:</p>

<p><a href="https://support.vidyocloud.com/hc/en-us/articles/115000460374-Combining-root-and-intermediate-certificates">Combine PEM Certificates</a></p>

<h3 id="conclussion">Conclussion</h3>

<p>The most important thing to take away from this post albeit it’s short. Is always validate your SSL connection. It can cause a lot of adverse side effects to your application if you are not careful. As well always seek consultation from your registrar if you have issues.</p>
:ET